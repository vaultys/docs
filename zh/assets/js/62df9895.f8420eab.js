(self.webpackChunksmartlink_doc=self.webpackChunksmartlink_doc||[]).push([[7852],{10269:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>f,contentTitle:()=>u,default:()=>h,frontMatter:()=>c,metadata:()=>p,toc:()=>m});var n=s(86070),r=s(25710),a=s(29336),o=s(30758),i=s(29916),l=s(1553);const d=e=>{let{}=e;const[t,s]=(0,o.useState)(),r=async function(e){void 0===e&&(e="software");let t=await a.VaultysId.generatePerson();if("passkey"==e?t=await(0,l.vX)(!0):"fido2"==e&&(t=await(0,l.vX)(!1)),t){const e=t,n=(0,a.MemoryStorage)((()=>{})),r=new a.IdManager(e,n);s(r)}};return t?(0,n.jsxs)("div",{className:"flex flex-col gap-5 items-center p-5",children:[(0,n.jsxs)("div",{className:"flex flex-row justify-center items-center gap-5",children:[(0,n.jsx)(i.A,{...(0,i.D)(t.vaultysId.fingerprint),hairStyle:"thick",className:"w-20 h-20"}),(0,n.jsxs)("div",{className:"flex flex-col p-5 font-bold",children:["Bob",(0,n.jsx)("div",{className:"font-mono text-xs font-bold w-48",children:t.vaultysId.fingerprint})]})]}),(0,n.jsx)("div",{className:"font-mono text-xs font-bold break-all",children:t.vaultysId.did}),(0,n.jsx)("pre",{className:"w-full",children:(0,l.du)(t.vaultysId.didDocument)}),(0,n.jsx)("div",{children:"ID"}),(0,n.jsx)("pre",{className:"w-full",children:t.vaultysId.id.toString("base64")}),(0,n.jsx)("div",{children:"VaultysID"}),(0,n.jsx)("pre",{className:"w-full",children:(0,l.du)(t.vaultysId)})]}):(0,n.jsxs)("div",{className:"flex flex-col gap-5 items-center bg-slate-200 dark:bg-slate-800 rounded p-5",children:[(0,n.jsx)("div",{children:"Which way do you want to secure Bob Id?"}),(0,n.jsx)("button",{className:"p-2 rounded-lg cursor-pointer",onClick:()=>r("passkey"),children:"Passkey"}),(0,n.jsx)("button",{className:"p-2 rounded-lg cursor-pointer",onClick:()=>r("fido2"),children:"Fido2 Key"}),(0,n.jsx)("button",{className:"p-2 rounded-lg cursor-pointer transition-all",onClick:()=>r("software"),children:"Software"})]})},c={hide_table_of_contents:!0},u="VaultysID",p={id:"develop/try/did",title:"VaultysID",description:"",source:"@site/docs/develop/try/did.mdx",sourceDirName:"develop/try",slug:"/develop/try/did",permalink:"/zh/docs/develop/try/did",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{hide_table_of_contents:!0},sidebar:"userguideSidebar",previous:{title:"Demonstration",permalink:"/zh/docs/develop/try/"},next:{title:"Simulator",permalink:"/zh/docs/develop/try/simulation"}},f={},m=[];function y(e){const t={h1:"h1",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"vaultysid",children:"VaultysID"}),"\n",(0,n.jsx)(d,{})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(y,{...e})}):y(e)}},1553:(e,t,s)=>{"use strict";s.d(t,{cb:()=>o,du:()=>d,vX:()=>l});var n=s(29336),r=s(2080),a=s(84686).Buffer;const o=e=>new Promise((t=>setTimeout(t,e))),i=e=>{const t=/^((?!chrome|android).)*applewebkit/i.test(navigator.userAgent);return{challenge:(0,r.randomBytes)(32),rp:{name:"Vaultys ID"},user:{id:(0,r.randomBytes)(16),name:"Vaultys ID",displayName:"Vaultys Wallet ID"},attestation:t?"none":"direct",authenticatorSelection:{authenticatorAttachment:e?"platform":"cross-platform",residentKey:e?"required":"discouraged",userVerification:"preferred"},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-8},{type:"public-key",alg:-257}]}},l=async e=>{const t=await navigator.credentials.create({publicKey:i(e)});return t?await n.VaultysId.fido2FromAttestation(t):null},d=e=>JSON.stringify(e,((e,t)=>t?.data&&"Buffer"==t?.type?a.from(t.data).toString("base64"):t),2)},34654:()=>{},34149:()=>{},89780:()=>{},13495:()=>{},99926:()=>{},90124:()=>{},71220:()=>{},38854:()=>{},98308:()=>{},25710:(e,t,s)=>{"use strict";s.d(t,{R:()=>o,x:()=>i});var n=s(30758);const r={},a=n.createContext(r);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);